<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mumu.meishijia.dao.user.IUserDao">
    <insert id="register" parameterType="com.mumu.meishijia.pojo.user.User">
        INSERT INTO
        `user`(username, password, verify_code, register_date, avatar, real_name, nickname, mobile_phone, sex, birthday, email, city, address)
        VALUES
        (#{username}, #{password}, #{verifyCode}, #{registerDate}, #{avatar}, #{realName}, #{nickname}, #{mobilePhone}, #{sex}, #{birthday}, #{email}, #{city}, #{address})
    </insert>
    <update id="updatePid" parameterType="java.lang.String">
        UPDATE `user` SET principle_id = id+1000 WHERE username=#{username}
    </update>
    <select id="login" parameterType="java.lang.String">
        SELECT * FROM `user` WHERE username=#{username} AND password=#{password}
    </select>
    <insert id="insertToken" parameterType="com.mumu.meishijia.pojo.user.UserToken">
        INSERT INTO
        user_token(username, token, deadline)
        VALUES
        (#{username}, #{token}, #{deadline})
    </insert>
</mapper>